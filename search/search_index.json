{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>               Bases: <code>BaseModel</code></p> <p>Modelo de dados para as vendas.</p> <p>Parameters:</p> Name Type Description Default <code>email</code> <code>EmailStr</code> <p>email do comprador</p> required <code>data</code> <code>datetime</code> <p>data da compra</p> required <code>valor</code> <code>PositiveFloat</code> <p>valor da compra</p> required <code>produto</code> <code>PositiveInt</code> <p>nome do produto</p> required <code>quantidade</code> <code>PositiveInt</code> <p>quantidade de produtos</p> required <code>produto</code> <code>ProdutoEnum</code> <p>categoria do produto</p> required Source code in <code>contrato.py</code> <pre><code>class Vendas(BaseModel):\n    '''\n    Modelo de dados para as vendas.\n\n    Args:\n        email (EmailStr): email do comprador\n        data (datetime): data da compra\n        valor (PositiveFloat): valor da compra\n        produto (PositiveInt): nome do produto\n        quantidade (PositiveInt): quantidade de produtos\n        produto (ProdutoEnum): categoria do produto\n    '''\n    email: EmailStr\n    data_hora: datetime\n    valor: PositiveFloat\n    qtd: PositiveInt\n    produto: ProdutoEnum\n</code></pre> <p>Fun\u00e7\u00e3o para salvar os dados no banco de dados PostgreSQL.</p> Source code in <code>database.py</code> <pre><code>def salvar_no_postgres(dados: Vendas):\n    \"\"\"Fun\u00e7\u00e3o para salvar os dados no banco de dados PostgreSQL.\"\"\"\n    try:\n        conn = psycopg2.connect( #aqui estamos criando a conex\u00e3o com o banco de dados\n            host=DB_HOST,\n            dbname=DB_NAME,\n            user=DB_USER,\n            password=DB_PASS\n        )\n        cursor = conn.cursor() #cursor \u00e9 uma sequencia de insers\u00e3o no banco de dados\n\n        #inser\u00e7\u00e3o de dados no banco de dados\n        insert_query = sql.SQL('''\n            INSERT INTO vendas (email, data_hora, valor, qtd, produto)\n            VALUES (%s, %s, %s, %s, %s)\n        ''')\n        cursor.execute(insert_query, (\n            dados.email, \n            dados.data_hora, \n            dados.valor, \n            dados.qtd, \n            dados.produto))\n\n        conn.commit() #aqui estamos confirmando a inser\u00e7\u00e3o dos dados no banco de dados\n        cursor.close() #aqui estamos fechando o cursor\n        conn.close() #aqui estamos fechando a conex\u00e3o com o banco de dados\n        st.success(\"Dados salvos com sucesso no banco de dados!\")\n    except Exception as e:\n        st.error(f'Erro ao salvar no banco de dados: {e}')\n        return   \n</code></pre>"}]}